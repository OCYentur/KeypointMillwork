<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Keypoint Millwork" />
    <meta name="author" content="Omer Yentur" />
    <meta name="keywords" content="Keypoint, Millwork, Renovation, Kitchen, Countertop" />
    <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>
    <link rel="shortcut icon" type="image/ico" href="~/keypointicon.png">
    <title>Keypoint Millwork - @ViewBag.Title </title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    <script src="~/Scripts/jquery-1.10.2.min.js"></script>
    <script>
		$(function () {
			$('a[href*="#"]:not([href="#intro-carousel"])').click(function () {
				if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') && location.hostname == this.hostname) {
					var target = $(this.hash);
					target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
					if (target.length) {
					    $('html, body').animate({
                                scrollTop: target.offset().top
					    }, 1000);

						return false;
					}
				}
			});
		});
    </script>
</head>
<body onload="init()">
    <div id="bg">
        <div id="loader" class="unselectable">
            <img src="~/Content/Images/keypointlogo.png" />
            <img id="sawx" src="~/Content/Images/keypointsaw.png" />
            <img id="sawy" src="~/Content/Images/keypointsaw.png" />
        </div>
        <div id="head" class="unselectable">
            <div id="logo">
                <img src="~/Content/Images/keypoint1.png" />
            </div>
            <div id="menu" class="">
                <ul>
                    <li><a href="#about">About Us</a></li>
                    <li><a href="#gallery">Projects</a></li>
                    <li><a href="#contact">Contact Us</a></li>
                </ul>
            </div>
        </div>
        <div class="body-container" data-scroll-speed="1">
            @RenderBody()
        </div>
    </div>
	<script>
		function init() {
			var x = setTimeout(load, 2000);
		}
		function load() {
			$(document).ready(function () {
				$("#loader").fadeOut(500, function () {
					$("#head").fadeIn(500, function () { }).css('display', 'block');
					$(".body-container").fadeIn(750, function () { }).css('display', 'block');
				});
			});
		}
		var $menu = $('#menu');
		$(document).scroll(function () {
			var scrollval = document.body.scrollTop;
			$height = $(window).height();
			$width = $(window).width();
			if (scrollval > (($height * 20)/100)) {
			    $("#menu ul li").css({ padding: $(this).scrollTop() < scrollval ? "3.3vh" : "1.5vh" });
			}
			else {
			    $("#menu ul li").css({ padding: $(this).scrollTop() < scrollval ? "3.3vh" : "3.3vh" });
			}
		    if (scrollval < $height) {
		    	$menu.css({ background: $(this).scrollTop() < scrollval ? "rgba(0,0,0,.1)" : "rgba(0,0,0,.1)" });		    	
		    }
		    else if (scrollval >= $height && scrollval < ($height*2)) {
		        $menu.css({ background: $(this).scrollTop() < scrollval ? "rgba(0,0,0,.1)" : "rgba(0,0,0,.8)" });
		    }
		    else if (scrollval >= ($height * 2) && scrollval < ($height * 3)) {
		        $menu.css({ background: $(this).scrollTop() < scrollval ? "rgba(0,0,0,.1)" : "rgba(152,152,152,.8)" });
		    }
		    else {
		        $menu.css({ background: $(this).scrollTop() < scrollval ? "rgba(0,0,0,.1)" : "rgba(190,190,190,.8)" });
		    }
		});

		//if (window.addEventListener) window.addEventListener('DOMMouseScroll', wheel, false);
		//window.onmousewheel = document.onmousewheel = wheel;

		//function wheel(event) {
		//    var delta = 0;
		//    if (event.wheelDelta) delta = event.wheelDelta / 120;
		//    else if (event.detail) delta = -event.detail / 3;

		//    handle(delta);
		//    if (event.preventDefault) event.preventDefault();
		//    event.returnValue = false;
		//}

		//function handle(delta) {
		//    var time = 100;
		//    var distance = $height;

		//    $('html, body').stop().animate({
		//        scrollTop: $(window).scrollTop() - (distance * delta)
		//    }, time);
		//}
	</script>
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @RenderSection("scripts", required: false)
</body>
</html>
